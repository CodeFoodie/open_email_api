{"version":3,"sources":["../../src/mid/validator.js"],"names":["sendmail","isEmail","isLength","min","rules","req","res","next","errors","resErrorMsg","array","forEach","error","param","msg","isEmpty","status","json"],"mappings":";;;;;;;AAAA;;;;;;;;;;AAGA,IAAMA,QAAQ,GAAG,CACf,4BAAK,UAAL,EAAiB,uCAAjB,EACGC,OADH,EADe,EAGf,4BAAK,SAAL,EAAgB,qCAAhB,EACGC,QADH,CACY;AAAEC,EAAAA,GAAG,EAAE;AAAP,CADZ,CAHe,EAKf,4BAAK,SAAL,EAAgB,sCAAhB,EACGD,QADH,CACY;AAAEC,EAAAA,GAAG,EAAE;AAAP,CADZ,CALe,CAAjB;;eASe,oBAAM;AACnB,MAAMC,KAAK,GAAGJ,QAAd;AACA,sCACKI,KADL,IAEE,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAClB,QAAMC,MAAM,GAAG,wCAAiBH,GAAjB,CAAf;AACA,QAAMI,WAAW,GAAG,EAApB;AACAD,IAAAA,MAAM,CAACE,KAAP,GAAeC,OAAf,CAAuB,UAACC,KAAD,EAAW;AAChCH,MAAAA,WAAW,CAACG,KAAK,CAACC,KAAP,CAAX,GAA2BD,KAAK,CAACE,GAAjC;AACD,KAFD;;AAGA,QAAI,CAACN,MAAM,CAACO,OAAP,EAAL,EAAuB;AACrB,aAAOT,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAET,QAAAA,MAAM,EAAEC;AAAV,OAArB,CAAP;AACD;;AACD,WAAOF,IAAI,EAAX;AACD,GAZH;AAcD,C","sourcesContent":["import { body, validationResult } from 'express-validator';\n\n\nconst sendmail = [\n  body('receiver', 'Please provide a valid receiver email')\n    .isEmail(),\n  body('subject', 'Please provide a reasonable subject')\n    .isLength({ min: 5 }),\n  body('message', 'Please provide comprehensive message')\n    .isLength({ min: 10 }),\n];\n\nexport default () => {\n  const rules = sendmail;\n  return [\n    ...rules,\n    (req, res, next) => {\n      const errors = validationResult(req);\n      const resErrorMsg = {};\n      errors.array().forEach((error) => {\n        resErrorMsg[error.param] = error.msg;\n      });\n      if (!errors.isEmpty()) {\n        return res.status(422).json({ errors: resErrorMsg });\n      }\n      return next();\n    },\n  ];\n};\n"],"file":"validator.js"}