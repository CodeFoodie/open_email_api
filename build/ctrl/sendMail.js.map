{"version":3,"sources":["../../src/ctrl/sendMail.js"],"names":["sgMail","dotenv","config","setApiKey","process","env","SENDGRID_API_KEY","sendEmail","req","res","name","email","subject","message","body","msg","to","from","html","result","send","request","success","error"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,gBAAnB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEAA,MAAM,CAACC,MAAP;AAEAF,MAAM,CAACG,SAAP,CAAiBC,OAAO,CAACC,GAAR,CAAYC,gBAA7B;AAEA;;;;;;;;;;AAWA,MAAMC,SAAS,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACpC,MAAI;AACF,UAAM;AACJC,MAAAA,IADI;AAEJC,MAAAA,KAFI;AAGJC,MAAAA,OAHI;AAIJC,MAAAA;AAJI,QAKFL,GAAG,CAACM,IALR;AAMA,UAAMC,GAAG,GAAG;AACVC,MAAAA,EAAE,EAAE,yBADM;AAEVC,MAAAA,IAAI,EAAE,oBAFI;AAGVL,MAAAA,OAHU;AAIVM,MAAAA,IAAI,EAAG,GAAEP,KAAM,IAAGD,IAAK,IAAGG,OAAQ;AAJxB,KAAZ;AAMA,UAAMM,MAAM,GAAG,MAAMnB,MAAM,CAACoB,IAAP,CAAYL,GAAZ,CAArB;;AACA,QAAII,MAAM,CAAC,CAAD,CAAN,IAAaA,MAAM,CAAC,CAAD,CAAN,CAAUE,OAA3B,EAAoC;AAClC,aAAO;AAAEC,QAAAA,OAAO,EAAE,IAAX;AAAiBT,QAAAA,OAAO,EAAE;AAA1B,OAAP;AACD;AACF,GAjBD,CAiBE,OAAOU,KAAP,EAAc;AACd,WAAO;AAAED,MAAAA,OAAO,EAAE,KAAX;AAAkBC,MAAAA;AAAlB,KAAP;AACD;AACF,CArBD;;AAuBA,eAAehB,SAAf","sourcesContent":["import sgMail from '@sendgrid/mail';\nimport dotenv from 'dotenv';\n\ndotenv.config();\n\nsgMail.setApiKey(process.env.SENDGRID_API_KEY);\n\n/**\n * Creates an instance of sendMail.\n *\n * @constructor\n * @param {string} req.name The name of the requester.\n * @param {string} req.email The email of the requester.\n * @param {string} req.subject The subject of the requester.\n * @param {string} req.message The message of the requester.\n*/\n\n\nconst sendEmail = async (req, res) => {\n  try {\n    const {\n      name,\n      email,\n      subject,\n      message\n    } = req.body\n    const msg = {\n      to: 'codefoodie101@gmail.com',\n      from: 'ask@codefoodie.com',\n      subject,\n      html: `${email} ${name} ${message}`,\n    };\n    const result = await sgMail.send(msg);\n    if (result[0] && result[0].request) {\n      return { success: true, message: 'Email sent successfully' };\n    }\n  } catch (error) {\n    return { success: false, error };\n  }\n};\n\nexport default sendEmail;\n"],"file":"sendMail.js"}